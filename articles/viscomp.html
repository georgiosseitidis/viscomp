<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This document introduces you to viscomp’s set of tools, and shows you how to apply them on network meta-analysis model when multicomponent interventions (complex data) are present.
">
<title>An introduction to network meta-analysis using the viscomp package • viscomp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="An introduction to network meta-analysis using the viscomp package">
<meta property="og:description" content="This document introduces you to viscomp’s set of tools, and shows you how to apply them on network meta-analysis model when multicomponent interventions (complex data) are present.
">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">viscomp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/viscomp.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/georgiosseitidis/viscomp/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="viscomp_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>An introduction to network meta-analysis using the viscomp package</h1>
                        <h4 data-toc-skip class="author">Georgios Seitidis</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/georgiosseitidis/viscomp/blob/HEAD/vignettes/viscomp.Rmd" class="external-link"><code>vignettes/viscomp.Rmd</code></a></small>
      <div class="d-none name"><code>viscomp.Rmd</code></div>
    </div>

    
    
<style>
body {
text-align: justify}
</style>
<p>When multicomponent (complex) interventions are present in a network meta-analysis model we usually interested on:</p>
<ul>
<li>identifying the most efficacious components</li>
<li>identifying which component combination works better</li>
<li>understanding the behavior of the components</li>
</ul>
<p>The <strong>viscomp</strong> package provides several visualization tools to address these issues. This document makes an introduction to viscomp’s set of tools, and shows you how to apply them on network meta-analysis when multicomponent (complex) interventions are included.</p>
<p><br></p>
<div class="section level2">
<h2 id="single-outcome">Single outcome<a class="anchor" aria-label="anchor" href="#single-outcome"></a>
</h2>
<div class="section level3">
<h3 id="artificial-network-meta-analysis-model">Artificial network meta-analysis model<a class="anchor" aria-label="anchor" href="#artificial-network-meta-analysis-model"></a>
</h3>
<p>Load the MACE data of the viscomp package</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/georgiosseitidis/viscomp" class="external-link">viscomp</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"MACE"</span><span class="op">)</span></code></pre></div>
<p>Network meta-analysis (NMA) model is applied using the R-package <code>netmeta</code>. MACE is a dichotomous harmful outcome and the NMA model is constructed using the odds ratios (OR) as effect size.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/netmeta" class="external-link">netmeta</a></span><span class="op">)</span>
<span class="va">data_NMA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/pairwise.html" class="external-link">pairwise</a></span><span class="op">(</span>studlab <span class="op">=</span> <span class="va">Study</span>, 
                      treat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">treat1</span>, <span class="va">treat2</span>, <span class="va">treat3</span>, <span class="va">treat4</span><span class="op">)</span>,
                      n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">n1</span>, <span class="va">n2</span>, <span class="va">n3</span>, <span class="va">n4</span><span class="op">)</span>, 
                      event <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">event1</span>, <span class="va">event2</span>, <span class="va">event3</span>, <span class="va">event4</span><span class="op">)</span>, 
                      data <span class="op">=</span> <span class="va">MACE</span>, 
                      sm <span class="op">=</span> <span class="st">"OR"</span> <span class="op">)</span>

<span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></span><span class="op">(</span>TE <span class="op">=</span> <span class="va">TE</span>, 
               seTE <span class="op">=</span> <span class="va">seTE</span>, 
               studlab <span class="op">=</span> <span class="va">studlab</span>, 
               treat1 <span class="op">=</span> <span class="va">treat1</span>,
               treat2 <span class="op">=</span> <span class="va">treat2</span>, 
               data <span class="op">=</span> <span class="va">data_NMA</span>, 
               ref <span class="op">=</span> <span class="st">"UC"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="descriptive-analysis-of-components-with-compdesc">Descriptive analysis of components with <code>compdesc</code><a class="anchor" aria-label="anchor" href="#descriptive-analysis-of-components-with-compdesc"></a>
</h3>
<p><code>compdesc</code> performs a descriptive analysis for the components observed in the network. It provides 3 items as an output. Item <code>crosstable</code> contains a cross-table with the frequency of the components. Diagonal elements refer to the components, while off-diagonal elements to the components combinations. Each cell represents the number of arms where the corresponding component (combination) was observed. Item <code>heatmat</code> visualizes the item . The intensity of the color is proportional to the frequency of the component combination. Item <code>frequency</code> provides usefull descriptive charactericts about the component’s frequency. In addition, it reports:</p>
<ul>
<li>the number of arms where the component was observed (column <em>Frequency</em>)</li>
<li>the number of studies in which the corresponding component was included in all arms (column <em>A</em>)</li>
<li>the percentage of studies in which the corresponding component was included in all arms (column <em>A_percent</em>)</li>
<li>the number of studies in which the corresponding component was included in at least one arm (column <em>B</em>)</li>
<li>the percentage of studies in which the corresponding component was included in at least one arm (column <em>B_percent</em>)</li>
<li>the number of studies in which the corresponding component was not included in any arm (column <em>C</em>)</li>
<li>the percentage of studies in which the corresponding component was not included in any arm (column <em>C_percent</em>)</li>
<li>the ratio of columns <em>A</em> and <em>B</em> (column <em>A.B</em>).</li>
</ul>
<p>We can perform a descriptive analysis of the components with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/compdesc.html">compdesc</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span>
<span class="co">#&gt; $crosstable</span>
<span class="co">#&gt;     A  B  C  D G E UC</span>
<span class="co">#&gt; A  17  9  9  5 0 2  0</span>
<span class="co">#&gt; B   9 18  7  5 1 2  0</span>
<span class="co">#&gt; C   9  7 15  4 0 1  0</span>
<span class="co">#&gt; D   5  5  4 11 0 0  0</span>
<span class="co">#&gt; G   0  1  0  0 1 0  0</span>
<span class="co">#&gt; E   2  2  1  0 0 3  0</span>
<span class="co">#&gt; UC  0  0  0  0 0 0 15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $frequency</span>
<span class="co">#&gt;    Component Frequency A  A_percent  B  B_percent  C C_percent       A.B</span>
<span class="co">#&gt; A          A        17 2 0.09090909 11 0.50000000 11 0.5000000 0.1818182</span>
<span class="co">#&gt; B          B        18 3 0.13636364 13 0.59090909  9 0.4090909 0.2307692</span>
<span class="co">#&gt; C          C        15 2 0.09090909 11 0.50000000 11 0.5000000 0.1818182</span>
<span class="co">#&gt; D          D        11 1 0.04545455  9 0.40909091 13 0.5909091 0.1111111</span>
<span class="co">#&gt; G          G         1 0 0.00000000  1 0.04545455 21 0.9545455 0.0000000</span>
<span class="co">#&gt; E          E         3 0 0.00000000  3 0.13636364 19 0.8636364 0.0000000</span>
<span class="co">#&gt; UC        UC        15 0 0.00000000 15 0.68181818  7 0.3181818 0.0000000</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $heatmat</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-3-1.png" width="720"></p>
</div>
<div class="section level3">
<h3 id="explore-components-geometry-with-compgraph">Explore components geometry with <code>compGraph()</code><a class="anchor" aria-label="anchor" href="#explore-components-geometry-with-compgraph"></a>
</h3>
<p><code><a href="../reference/compGraph.html">compGraph()</a></code> is meant to visualize the frequency of components’ combinations found in the network. The function resembles a network plot where nodes represent the individual components found in the network and edges represent the combination of components found in at least one treatment arm of the trials included in the network meta-analysis model. Each edge’s color represents one of the unique interventions (components’ combination) found in the network of interventions. Edges’ thickness indicates the frequency by which each intervention (combination of components) was observed in the network (number of arms in which the combination was assigned). The number of the most frequent combinations can be modified from the argument <code>mostF</code>.</p>
<p><br></p>
<p>We can visualize the 10 most frequent component combinations with:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/compGraph.html">compGraph</a></span><span class="op">(</span><span class="va">net</span>, mostF <span class="op">=</span> <span class="fl">10</span>, title <span class="op">=</span> <span class="st">""</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-4-1.png" width="720"></p>
<p>In NMA we usually have interventions that are used as a potentially inactive reference intervention (e.g. placebo, usual care), and are not combined with other interventions. We can exclude these interventions through the argument <code>excl</code>. For example, we can exclude the usual care (UC) from the component network plot with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/compGraph.html">compGraph</a></span><span class="op">(</span><span class="va">net</span>, mostF <span class="op">=</span> <span class="fl">10</span>, title <span class="op">=</span> <span class="st">""</span>, excl <span class="op">=</span> <span class="st">"UC"</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-5-1.png" width="720"></p>
</div>
<div class="section level3">
<h3 id="explore-the-efficacy-of-the-two-by-two-components-combinations-with-heatcomp">Explore the efficacy of the two-by-two components combinations with <code>heatcomp()</code><a class="anchor" aria-label="anchor" href="#explore-the-efficacy-of-the-two-by-two-components-combinations-with-heatcomp"></a>
</h3>
<p><code><a href="../reference/heatcomp.html">heatcomp()</a></code> creates a heat plot comparing the two-by-two component combinations to the reference intervention. Diagonal elements refer to components, while off-diagonal to components’ combinations. Each element summarizes the efficacy of the interventions (obtained from the NMA model) that includes the corresponding component combination. The frequency of the components combinations found in the NMA model is printed by default (<code>freq = TRUE</code>). Combinations that were not observed in the NMA model are denoted by the letter “X”. The function by default uses the z-scores (<code>z_value = TRUE</code>) and the median as a summary measure (<code>median = TRUE</code>).</p>
<p>Z-scores quantify the strength of statistical evidence. The magnitude of the evidence is reflected by the color’s intensity. Estimates close to zero are denoted by white color, and indicates lack of evidence that the corresponding component combination performs better than the reference intervention. In beneficial outcomes, deep green and red colors indicate strong evidence that the corresponding component combination performs better and worse respectively. The opposite holds for harmful outcomes. The nature of the outcome (beneficial, harmful) is controlled by the argument <code>outcome</code>.</p>
<p><br></p>
<p>We can visualize the efficacy of the components, with:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/heatcomp.html">heatcomp</a></span><span class="op">(</span><span class="va">net</span>, outcome <span class="op">=</span> <span class="st">"harmful"</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-6-1.png" width="691.2"></p>
<p>From the plot we see that the most intensive colors are observed for the component E, G, and the combination between components B and G. Thus, these combination seems to be the most efficacious according to the <code><a href="../reference/heatcomp.html">heatcomp()</a></code>. We also see that the frequency of component G and the combination of B and G equals one, indicating that their corresponding estimates have been obtained by a single intervention.</p>
</div>
<div class="section level3">
<h3 id="explore-the-efficacy-of-the-components-with-specc">Explore the efficacy of the components with <code>specc()</code><a class="anchor" aria-label="anchor" href="#explore-the-efficacy-of-the-components-with-specc"></a>
</h3>
<div class="section level4">
<h4 id="components">Components<a class="anchor" aria-label="anchor" href="#components"></a>
</h4>
<p><code><a href="../reference/specc.html">specc()</a></code> works similarly to <code><a href="../reference/heatcomp.html">heatcomp()</a></code> except that instead of visualizing the two-by-two component combinations, it can visualize combinations with more than two components. The function by default produces violin plots based on the components z-values.</p>
<p><br></p>
<p>We can visualize the distribution of each component in the network with:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/specc.html">specc</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span>
<span class="co">#&gt; Warning: Violin plot requires at least 2 data point</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-7-1.png" width="691.2"></p>
<p>Note that in the plot the median estimates of the components are equal with the diagonal elements of the <code><a href="../reference/heatcomp.html">heatcomp()</a></code> function. Also, we receive a warning message because component G was included in a single intervention.</p>
</div>
<div class="section level4">
<h4 id="components-combinations">Components combinations<a class="anchor" aria-label="anchor" href="#components-combinations"></a>
</h4>
<p>We can visualize the distribution of component combinations (e.g. A, A+B, A+B+C) with:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/specc.html">specc</a></span><span class="op">(</span><span class="va">net</span>, combination <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A + B"</span>, <span class="st">"A + B + C"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-8-1.png" width="691.2"></p>
</div>
<div class="section level4">
<h4 id="number-of-components">Number of components<a class="anchor" aria-label="anchor" href="#number-of-components"></a>
</h4>
<p>Often, we interested on exploring the behavior of intervention’s effect as the number of components increased. We can do that with:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/specc.html">specc</a></span><span class="op">(</span><span class="va">net</span>, components_number <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-9-1.png" width="691.2"></p>
<p><br></p>
<p>We can also group the violins in cluster based on the number of components. For example, we can create violins for interventions that includes 1 component, 2 components, 1-2 components and more than 2 components, with</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/specc.html">specc</a></span><span class="op">(</span><span class="va">net</span>, components_number <span class="op">=</span> <span class="cn">TRUE</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="st">"1-2"</span>, <span class="st">"2+"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-10-1.png" width="691.2"></p>
</div>
</div>
<div class="section level3">
<h3 id="explore-the-efficacy-of-the-components-with-denscomp">Explore the efficacy of the components with <code>denscomp()</code><a class="anchor" aria-label="anchor" href="#explore-the-efficacy-of-the-components-with-denscomp"></a>
</h3>
<p>The efficacy of a component (or component combination) can be explored by comparing the corresponding densities. <code><a href="../reference/denscomp.html">denscomp()</a></code> compares the following densities: one density is constructed by the NMA results referring to the interventions including the component (combination) of interest, while the second density refers to the interventions, not including the underlying component (combination).</p>
<p><br></p>
<p>For example, if we interested on exploring the efficacy of the component combination A+B, we can visualize the densities of the NMA intervention estimates from the interventions that include and not include component A respectively, with</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/denscomp.html">denscomp</a></span><span class="op">(</span><span class="va">net</span>, combination <span class="op">=</span> <span class="st">"A+B"</span>, z_value <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-11-1.png" width="691.2"></p>
<p><br></p>
<p><code><a href="../reference/denscomp.html">denscomp()</a></code> can also compare more than two densities. If we interested for example to compare the densities of the interventions that include component A, components A+B, and components A+B+C, we can do it with</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/denscomp.html">denscomp</a></span><span class="op">(</span><span class="va">net</span>, combination <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A + B"</span>, <span class="st">"A + B + C"</span><span class="op">)</span>, z_value <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-12-1.png" width="691.2"></p>
</div>
<div class="section level3">
<h3 id="leaving-one-component-out-scatter-plot-with-loccos">Leaving one component out scatter plot with <code>loccos()</code><a class="anchor" aria-label="anchor" href="#leaving-one-component-out-scatter-plot-with-loccos"></a>
</h3>
<p>Exploring whether the inclusion or the exclusion of a component (combination) has a positive or negative impact on the efficacy of an intervention could be undertaken by looking at the interventions that differ by this specific component (combination). <code><a href="../reference/loccos.html">loccos()</a></code> creates a scatter plot where the x-axis represents the z-score of the intervention that includes the component and the y-axis represents the z-score of the intervention that does not include the component. A point on the line y = x indicates that the inclusion/exclusion of the underlying component does not affect the efficacy of the interventions. Dots above the y = x line for a beneficial outcome, indicate that the inclusion of a component hampers the treatment effect while dots below this line signify a component that increases efficacy. The opposite holds for a harmful outcome.</p>
<p><br></p>
<p>We can explore the impact of component A, with:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/loccos.html">loccos</a></span><span class="op">(</span><span class="va">net</span>, combination <span class="op">=</span> <span class="st">"A"</span>, histogram <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-13-1.png" width="691.2"></p>
</div>
<div class="section level3">
<h3 id="waterfall-plot-with-watercomp">Waterfall plot with <code>watercomp()</code><a class="anchor" aria-label="anchor" href="#waterfall-plot-with-watercomp"></a>
</h3>
<p><code><a href="../reference/watercomp.html">watercomp()</a></code> works similarly to <code><a href="../reference/loccos.html">loccos()</a></code> except that instead of visualizing the impact of a component (combination) in a scatter plot, the impact is now visualizing in a waterfall plot. The horizontal y = 0 line represents zero impact on the intervention efficacy if an extra component is added. Bars indicate whether the inclusion of the extra component has an impact on the intervention. The interpretation of the direction of the underlying bars (positive or negative) depends on the nature of the outcome used (beneficial or harmful).</p>
<p><br></p>
<p>We can explore the impact of component A, with:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/watercomp.html">watercomp</a></span><span class="op">(</span><span class="va">net</span>, combination <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-14-1.png" width="691.2"></p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="multiple-outcomes">Multiple outcomes<a class="anchor" aria-label="anchor" href="#multiple-outcomes"></a>
</h2>
<div class="section level3">
<h3 id="artificial-network-meta-analysis-model-1">Artificial network meta-analysis model<a class="anchor" aria-label="anchor" href="#artificial-network-meta-analysis-model-1"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"A+B"</span>, <span class="st">"A+C"</span>, <span class="st">"B+C"</span>, <span class="st">"A"</span><span class="op">)</span>
<span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span>, <span class="st">"A"</span>, <span class="st">"A+C"</span>, <span class="st">"B+C"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B+C"</span><span class="op">)</span>

<span class="va">TE1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2.12</span>, <span class="fl">3.24</span>, <span class="fl">5.65</span>, <span class="op">-</span><span class="fl">0.60</span>, <span class="fl">0.13</span>, <span class="fl">0.66</span>, <span class="fl">3.28</span><span class="op">)</span>
<span class="va">TE2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4.69</span>, <span class="fl">2.67</span>, <span class="fl">2.73</span>, <span class="op">-</span><span class="fl">3.41</span>, <span class="fl">1.79</span>, <span class="fl">2.93</span>, <span class="fl">2.51</span><span class="op">)</span>

<span class="va">seTE1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">7</span><span class="op">)</span>
<span class="va">seTE2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">7</span><span class="op">)</span>

<span class="va">study</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"study_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>

<span class="va">data1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"TE"</span> <span class="op">=</span> <span class="va">TE1</span>, 
                    <span class="st">"seTE"</span> <span class="op">=</span> <span class="va">seTE1</span>, 
                    <span class="st">"treat1"</span> <span class="op">=</span> <span class="va">t1</span>, 
                    <span class="st">"treat2"</span> <span class="op">=</span> <span class="va">t2</span>, 
                    <span class="st">"studlab"</span> <span class="op">=</span> <span class="va">study</span>,
                    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">data2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"TE"</span> <span class="op">=</span> <span class="va">TE2</span>, 
                    <span class="st">"seTE"</span> <span class="op">=</span> <span class="va">seTE2</span>, 
                    <span class="st">"treat1"</span> <span class="op">=</span> <span class="va">t1</span>, 
                    <span class="st">"treat2"</span> <span class="op">=</span> <span class="va">t2</span>, 
                    <span class="st">"studlab"</span> <span class="op">=</span> <span class="va">study</span>,
                    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">net1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></span><span class="op">(</span>TE <span class="op">=</span> <span class="va">TE</span>, 
                seTE <span class="op">=</span> <span class="va">seTE</span>, 
                studlab <span class="op">=</span> <span class="va">studlab</span>, 
                treat1 <span class="op">=</span> <span class="va">treat1</span>,
                treat2 <span class="op">=</span> <span class="va">treat2</span>, 
                data <span class="op">=</span> <span class="va">data1</span>, 
                ref <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span>

<span class="va">net2</span> <span class="op">&lt;-</span> <span class="fu">netmeta</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></span><span class="op">(</span>TE <span class="op">=</span> <span class="va">TE</span>, 
                         seTE <span class="op">=</span> <span class="va">seTE</span>, 
                         studlab <span class="op">=</span> <span class="va">studlab</span>, 
                         treat1 <span class="op">=</span> <span class="va">treat1</span>,
                         treat2 <span class="op">=</span> <span class="va">treat2</span>, 
                         data <span class="op">=</span> <span class="va">data2</span>, 
                         ref <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualize-the-components-ranking-for-multiple-outcomes-with-rankheatplot">Visualize the components’ ranking for multiple outcomes with <code>rankheatplot()</code><a class="anchor" aria-label="anchor" href="#visualize-the-components-ranking-for-multiple-outcomes-with-rankheatplot"></a>
</h3>
<p><code><a href="../reference/rankheatplot.html">rankheatplot()</a></code> creates a rank heat plot where the ranking of interventions can be presented across multiple outcomes (Veroniki et al., 2016). Circles corresponds to outcomes, while rads to components. Sectors are coloured according to the ranking of the relevant components within the underlying outcomes. Ranking is calculated as the median (or the mean) of the intervention P-scores including the component of interest in the particular outcome. The coloured scale ranges between red (p-score = 0%) and green (p-score = 100%). Uncolored sectors, if any, suggest that the underlying component was not included in any of the interventions in the NMA for the particular outcome.</p>
<p><br></p>
<p>We can visualize the p-scores for the two outcomes (assuming that the first outcome is beneficial while the second is harmful), with:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/rankheatplot.html">rankheatplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">net1</span>, <span class="va">net2</span><span class="op">)</span>, small.values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"good"</span>, <span class="st">"bad"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="viscomp_files/figure-html/unnamed-chunk-16-1.png" width="691.2"></p>
<div class="section level4">
<h4 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h4>
<ul>
<li>Veroniki, A. A., Straus, S. E., Fyraridis, A., &amp; Tricco, A. C. (2016). The rank-heat plot is a novel way to present the results from a network meta-analysis including multiple outcomes. Journal of Clinical Epidemiology, 76, 193–199. <a href="https://doi.org/10.1016/j.jclinepi.2016.02.016" class="external-link uri">https://doi.org/10.1016/j.jclinepi.2016.02.016</a>
</li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Georgios Seitidis, Sofia Tsokani, Christos Christogiannis, Katerina Maria Kontouli, Alexandros Fyraridis, Stavros Nikolakopoulos, Areti Angeliki Veroniki, Dimitris Mavridis.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
